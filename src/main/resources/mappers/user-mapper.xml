<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="UserMapper">
	<resultMap type="User" id="userResultMap">
		<id property="userId" column="USER_ID"/>
		<result property="userPwd" column="USER_PWD"/>
		<result property="userName" column="USER_NAME"/>
		<result property="userGender" column="USER_GENDER"/>
		<result property="userEmail" column="USER_EMAIL"/>
		<result property="userPhone" column="USER_PHONE"/>
		<result property="userZipCode" column="USER_ZIPCODE"/>
		<result property="addr" column="ADDR"/>
		<result property="addrDetail" column="ADDR_DETAIL"/>
		<result property="status" column="STATUS"/>
	</resultMap>
	
	<insert id="insertUser" parameterType="User">
		INSERT INTO USER_TBL(USER_ID, USER_PWD, USER_NAME, USER_GENDER, USER_EMAIL, USER_PHONE, USER_ZIPCODE, ADDR, ADDR_DETAIL)
		VALUES(#{userId }, #{userPwd }, #{userName }, #{userGender }, #{userEmail }, #{userPhone }, #{userZipCode }, #{addr }, #{addrDetail })
	</insert>
	<update id="deleteUser"  parameterType="string">
		UPDATE USER_TBL
		SET STATUS = 2
		WHERE USER_ID = #{userId}
	</update>
	<update id="updateUser" parameterType="User">
		UPDATE USER_TBL
		SET USER_PWD = #{userPwd}, USER_NAME = #{userName}, USER_GENDER=#{userGender}, USER_EMAIL = #{userEmail}, USER_PHONE = #{userPhone}
		, USER_ZIPCODE = #{userZipCode}, ADDR = #{addr}, ADDR_DETAIL = #{addrDetail}
		WHERE USER_ID = #{userId}
	</update>
	<select id="selectLoginOne" resultMap="userResultMap">
		SELECT USER_ID FROM USER_TBL
		WHERE USER_ID = #{userId} AND USER_PWD = #{userPwd}
	</select>
	<select id="selectOneById" resultMap="userResultMap">
		SELECT * FROM USER_TBL
		WHERE USER_ID = #{userId}
	</select>
</mapper>